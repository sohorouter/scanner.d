<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<!--@TEMPLATE:build/cooker/webgen/cooker_nonav_template.html@-->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" rev="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" rev="stylesheet" href="substyle.css" type="text/css" />
<script language="javascript" type="text/javascript" src="loadcheck.js"></script>

<script language="javascript" type="text/javascript">
//<![CDATA[
function pageBegin()
{
	var scripts_loaded = false;
	if (typeof(scriptsCheckLoaded) == 'function') {
		scripts_loaded = scriptsCheckLoaded();
	}
	if (!scripts_loaded) {
		alert("Not all of the needed components have been loaded; this page will refresh.");
		window.location.reload();
		return;
	}

	/*
	 * Begin rest of page startup
	 */
	if (typeof(onPageLoad) == 'function') {
		onPageLoad();
	}
}
//]]>
</script>


<!--@UNIQUE:head@-->

<title>D-LINK SYSTEMS, INC. | WIRELESS ROUTER  : Login</title>
<script language="javascript" type="text/javascript" checkload="true" src="uigenpro.js"></script>
<script language="javascript" type="text/javascript" checkload="true" src="md5.js"></script>
<script language="javascript" type="text/javascript" src="pre_login.js"></script>

<script language="javascript" type="text/javascript">
//<![CDATA[

function checkNewFirmwareReturnValue(xml)
{
	var x = getDataFromXML (xml);
	if (x == "NEW") {
		alert("A new firmware update is available.  You will be directed to the upgrade page upon login.");
	}
}

function onPageLoad()
{
	// Request a variable from the server that indicates if a new firmware version is available.
	sendDataToServer ("check_new_firmware.cgi",checkNewFirmwareReturnValue);

	try {
		document.myform.Password.focus();
	} catch(e) {
	}
}

function loginReturnValue(xml)
{
	var x = getDataFromXML (xml);
	if (x == "TIMEOUT") {
		alert("Session timeout, please try again.");
		location.replace ('/');
	} else if (x == "ERROR") {
		alert("Invalid password, please try again.");
		location.replace ('/');
	} else {
		location.replace (x);
	}
}

function sendLogin()
{
	// If the 'data' variable is not defined then there was probably some
	// problem with loading the page. The best guess is that the user's network
	// connection has gone down. Inform the user and try to reload the page.
	if (typeof(data) == "undefined") {
		alert ("The network connection seems to be down. Press 'Ok' to try again.");
		location.reload(true);
		return;
	}

	var a = new Array;

	// Compute the login hash.
	var shex = byteArrayToHexString(convertFromBase64(data),0,4);
	var goodp = document.myform.Password.value.substr(0,16);
	document.myform.Password.value = "";		// Make sure password never gets sent as clear text
	for (var i = goodp.length; i < 16; i++) {
		goodp = goodp.concat(String.fromCharCode(1));
	}
	var str = shex + goodp;
	// Pad the string to 64 bytes.
	for (var i = str.length; i < 63; i++) {
		str = str.concat(String.fromCharCode(1));
	}
	str = str.concat((document.myform.username.value == 'user') ? 'U' : String.fromCharCode(1));
	var hash = hex_md5(str);
	var saltHash = shex.concat(hash);
	a = convertHexString(saltHash, 20, 20);

	// Send the new configuration to the server
	sendDataToServer ("post_login.cgi?data=" + convertToBase64(a),loginReturnValue)
}
//]]>
</script>
<!--@ENDUNIQUE@-->

</head>
<body onload="pageBegin();">

<!--@UNIQUE:bodystart@-->
<form name="postform" method="get" action="/post_login.cgi">
<input type="hidden" name="data" />
</form>
<!--@ENDUNIQUE@-->

<div id="outside_1col">
	<table id="table_shell" cellspacing="0" summary=""><col span="1"/>
		<tbody>
		<tr>
			<td>
				<table id="header_container" border="0" cellspacing="0" summary="">
					<tr>
						<td width="100%" align="left">Product Page: <a href="http://support.dlink.com/"  onclick="return jumpIf();"><!--@EVAL:the_lpj_output.CUST_PRODUCT_NAME@-->DIR-635<!--@ENDEVAL@--></a></td>
						<!--@OPTIONAL:(the_lpj_output.FS_STYLE ~= 'rome.marzio') and (the_lpj_output.FS_STYLE ~= 'rome.borgo')@-->
							<!--@OPTIONAL:(the_lpj_output.IPETHSWITCHDEV)@-->
							<td align="right">Hardware Version: A1 &nbsp;</td>
							<!--@ENDOPTIONAL@-->
						<!--@ENDOPTIONAL@-->
						<td align="right">Firmware Version: 
						<!--@EVAL:the_lpj_output.FW_MAJOR_VER .. '.0' .. the_lpj_output.FW_MINOR_VER .. the_lpj_output.FW_IDENT_VER@-->1.09<!--@ENDEVAL@-->&nbsp;
						</td>
					</tr>
				</table>
				<table id="masthead_container" border="0" cellspacing="0" summary="">
					<tr>
						<td><img src="img_masthead.gif" width="836" height="92" alt="" /></td>
					</tr>
				</table>
				<table id="content_container" border="0" cellspacing="0" summary="">
					<tr>
						<td id="sidenav_container">&nbsp;</td>
						<td id="maincontent_container">
							<div id="maincontent_1col">
								<!--@UNIQUE:maincontent@-->

								<div id="box_header"> 
									<h1>Login</h1>
									<noscript> 
									<p class="warning">WARNING: JavaScript is not enabled for this browser!</p>
									</noscript> 
									<p>Log in to the router:</p>
									<div class="centered"> 
										<form name="myform" action="/dummy" onsubmit="sendLogin(); return false;">
											<table border="0" cellpadding="0" cellspacing="0" class="formarea" id="loginpage" summary="">
												<tr> 
													<td class="form_label">User Name&nbsp;:</td>
													<td class="form_data">
														<select name="username">
															<option value="admin">Admin</option>
															<option value="user">User</option>
														</select>
													</td>
												</tr>
												<tr> 
													<td class="form_label">Password&nbsp;:</td>
													<td class="form_data"> 
														<input type="password" name="Password" value="" tabindex="100" />
														<input class="button_submit_padleft" type="button" name="Login" value="Log In" onclick="sendLogin();" />
													</td>
												</tr>
											</table>
										</form>
									</div>
								</div>

								<!--@ENDUNIQUE@-->

								<!--@OPTIONAL:the_lpj_output.I18N_ENABLED and not string.find(this_file,'.xsl$')@--><!--@ENDOPTIONAL@-->
							</div>
						</td>
						<td id="sidehelp_container">&nbsp;</td>
					</tr>
				</table>
				<table id="footer_container" border="0" cellspacing="0" summary="">
					<tr>
						<td width="15%">
							<img src="img_wireless_bottom.gif" width="114" height="35" alt="" />
						</td>
						<td>
							&nbsp;
						</td>
					</tr>
				</table>
			</td>
		</tr>
		</tbody>
	</table>

	
	
	<div id="copyright">Copyright &copy; 2004-2006 D-Link Systems, Inc.</div>
</div>

</body>
<!--@ENDTEMPLATE@-->
</html>
