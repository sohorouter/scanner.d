HTTP/1.0 200 OK
Content-type: text/html
Cache-Control: no-cache

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<script language="JavaScript">
  self.name = "mxStart10__0__76__189";
	var hostname;
	var url_regexpr= /(\w+):\/\/([^\/]+)\/(\S*)/;
	var result = document.URL.match(url_regexpr);
	if (result != null)
		hostname = result[2];
	else
		hostname = "";
	document.write('<TITLE>' + hostname + "  <\/TITLE>");
</script>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta name="publisher" content="MOBOTIX AG, Germany">
<meta name="copyright" content="MOBOTIX AG, Germany">
<meta name="author" content="Daniel Kabs, MOBOTIX AG, Kaiserslautern, Germany.">
<link rel="owner" href="mailto:info@mobotix.com">
<link rel="copyright" href="/about.html" title="Copyright">
<style type="text/css">
p,table,td,th{font-family:Helvetica,Arial;} 
form{margin-bottom:0px;margin-top:0px;}
.kleinerknopf{font-size:80%};
</style>

<script>
  function goUserlevel()
  {
		if (self.name == "mxExtern10__0__76__189")
		{
			if (window.opener==null || window.opener.closed)
			// Kein Opener oder bereits geschlossen
		  	window.open("/control/userimage.html","mxHome10__0__76__189");
			else
				window.opener.focus();
	   	self.window.close();
			return;
		}
		location.href="/control/userimage.html";
  }
	function getTextFensterX(breite) {
		var wString=",width="+breite;
		if (window.screenLeft)
			wString+=",left="+parseInt(screenLeft+document.body.offsetWidth/2-breite/2);
		else if (window.screenX)
			wString+=",screenX="+parseInt(screenX+outerWidth/2-breite/2);
		return wString;
	}
	function getTextFensterY(hoehe) {
		var wString=",height="+hoehe;
		if (window.screenTop)
			wString+=",top="+parseInt(screenTop+document.body.offsetHeight/2-hoehe/2);
		else if (window.screenY)
			wString+=",screenY="+parseInt(screenY+innerHeight/2-hoehe/2);
		return wString;
	}
function debugmsg(k) {};

</script>
</head>

<body bgcolor="#FFFFFF" background="/decor/Cam_Kachel_grau.gif" onload="if (document.all) document.all.CamPic.style.width='auto';"> 

<TABLE width="100%" border="0" cellspacing="0" cellpadding="4">
	<TR bgcolor="#000088">		<TD class=headtablesmall valign="middle"> 		<font face="Helvetica,Arial" color="#CCCCCC">
		 		<b>MOBOTIX M1</b> Webcam_Krems  
			</font>
		</TD><td class=headtablesmall align=right><nobr>
		<a href="/help/help" onclick="window.open('/help/help','mxHelp10__0__76__189','scrollbars=yes,resizable=yes,width=722');return false;"><img alt="Open Help!" border=0 src="/decor/help.gif" height=12 width=12></a>
		<a href="javascript:open_camerainfo();"><img alt="Show Camerainfo!" border=0 src="/decor/info.gif" width=12 height=12></a>
		</nobr></td>	</TR>
</TABLE>
<script>
function open_camerainfo(prefix) {
	if (typeof prefix == "undefined")
		var prefix="";
	var wdh=window.open(prefix+"/control/camerainfo?rand="+Math.random(),"mxCameraInfo",
		"width=370,height=320,scrollbars=yes,resizable=yes");
	if (wdh) wdh.focus();
}
</script>

<noscript>
	<center>
		<img name="CamPic" src="/record/current.jpg" 
			BORDER=1 ALT="Shift-Reload to Refresh Image">
		<BR>
		<A HREF="/control/userimage.html" target="mxHome10__0__76__189">
			<font face="Helvetica,Arial" size="-1">Open Menu.</font></A>
		<br><br>
		<font face="Helvetica,Arial" size="+3" color=red>
			 Press Shift-Reload to refresh the image. 
		 	<br>
		 	Enable JavaScript / Active Scripting to see more details.
		</font>
	</center>	
</noscript>

<script language="JavaScript">
        var pic_url="/record/current.jpg";
        var noframepath="/decor/m1m-error.jpg";
        var n=Math.floor(Math.random()*1000000);
        var startn=n;
		  var GetItOn=1;
		  var recordmult=1;
			var buffer= new Image();
			var aktiv=null;
			var passiv=null;

 
  function DoComplete()
  {
  	document.CamPic.src = buffer.src;
 		GetItOn = 1;
		if (recordmult == -2) // OnLoad implementieren
			LoadNext();
  }
	function LoadError()
	{
		document.CamPic.src=noframepath;
		GetItOn = 1;
		if (recordmult == -2) // Onload Fehlerbehandlung
			setTimeout("LoadNext();",500);
	}
	function LoadNext() {
		buffer.onload=DoComplete;
		buffer.onerror=LoadError;
		buffer.src=pic_url+"?sync=1&rand="+String(n++);
	}

  function setframerate()
  {
		var oldm = recordmult;
    recordmult=window.document.dkdk.recordmult.options[window.document.dkdk.recordmult.selectedIndex].value;	
 	 if (aktiv)
	 {
	 		window.clearInterval(aktiv);
			aktiv = null;
	 }
	if (recordmult < 0)			// Sonderfallbehandlung
	 {
	 	if (recordmult == -1) //  Stream anschalten
		{
			buffer.onload = null;
			buffer.onerror= null;
			document.CamPic.src = "/cgi-bin/faststream.jpg?rand=" + String(n++);
			return;
		} else if (recordmult == -2) { // OnLoad
			LoadNext();
			return;
		}
	 } 
	 else 
	 	aktiv=window.setInterval("Animation()",1000*recordmult);
	 GetItOn=1;	// auf alle Faelle anzeigen!
	 Animation(); // und go...
  }
  function Animation()
  {
    if ( (navigator.appName == "Netscape") && (opener) )
		{
			if (opener.mxDoRefresh == 2)
			{
				opener.mxDoRefresh = 0;
				location.reload();
			}
			else if (opener.mxDoRefresh == 1)		// Reload um ein Bild verzögern
				opener.mxDoRefresh = 2;
		}
	  if (GetItOn == 1) 	// Bild ist geladen und das naechste kann 
	  {										// angefordert werden.
			if ( (document.CamPic.width<160) || (document.CamPic.height<120) )
				if (navigator.appName == "Netscape")
				{  // Bild ist fehlerhaft...
					GetItOn = 0;
					if (aktiv)
		 				window.clearInterval(aktiv);
					aktiv=null;
					if (passiv)
						window.clearTimeout(passiv);   // verzoegerter Reload 
  				passiv=window.setTimeout("location.reload();",1000*2);
					return;		
				}
			buffer.onerror= LoadError;
			buffer.onload = DoComplete;
//			debugmsg("Animate:#"+n);
			buffer.src = pic_url + "?rand=" + String(n++);
//			if (passiv)
//				window.clearTimeout(passiv);  // loeschen, dann "Notnagel"
//			passiv=window.setTimeout("GetItOn=1;",1000*30); // neu registrieren
			GetItOn = 0;
		}
  }
  

</script><br><div align=center>
<form name="dkdk">
<TABLE width=320 cellpadding=0 border=0 cellspacing=0>
<TR  valign=baseline>
<td colspan=2 align=center>
<img name="CamPic" src="/record/current.jpg?rand=7661884" BORDER=1 ALT="Camera Live Image" ></td>
</tr>
<tr>
<td>
		<A HREF="javascript:goUserlevel();">
    	<font face="Helvetica,Arial" size="-1">Menu</font></A>
</td>
<td>

<font face="Helvetica,Arial" size="-1">
<SELECT style="font-size:xx-small;" name="recordmult" size=1 onchange="setframerate();">
<OPTION value="0.500">2 fps
<OPTION value="1.000">1 fps
<OPTION value="-99">off

<OPTION value="2">2 sec.
<OPTION value="5">5 sec.
<OPTION value="10">10 sec.
<OPTION value="30">30 sec.
<OPTION value="60">1 min.

</SELECT>
</font>

<script>
	if ( (navigator.platform.substr(0,3) == "Win") 
	     && (navigator.appName.indexOf("Microsoft") == 0) )
			 document.forms.dkdk.recordmult.options[1]=null;
</script>
</td>
</TR>
</TABLE>
</form></div><script language="JavaScript">

recordmult=window.document.dkdk.recordmult.options[window.document.dkdk.recordmult.selectedIndex].value;	
if (recordmult>0) {
	aktiv=window.setInterval("Animation()",1000*recordmult);
//	passiv=window.setTimeout("GetItOn=1;",1000*30); // alle 30sec reset
}
if (self.name == "mxImage")
	self.focus();
</script>
<hr>
<font face="Helvetica,Arial" size="-2">	&copy;2001 <a href="/about.html">MOBOTIX AG</a>, Germany  &middot; <a href="http://www.mobotix.com/">http://www.mobotix.com/</a>
</font>
</body>
</html>
